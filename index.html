<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horas De Trabalho</title>
    <link rel="stylesheet" href="./reset css/reset.css">
    <link rel="stylesheet" href="./pagina/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    
    <div class="formulario">
        <h1>Calcule o tempo de trabalho!</h1>
        <form method="post" action="/script.php" class="form" id="my-form">
            <label for="hora_inicial">Hora inicial:</label>
            <input type="text" name="hora_inicial" id="hora_inicial">

            <label class='hr_final' for="hora_final">Hora final:</label>
            <input type="text" name="hora_final" id="hora_final">

            <input type="submit" value="Calcular" class="button">
        </form>
    </div>

    <div id="result"></div>
</body>

<script>
     // Adiciona um evento de escuta para o envio do formulário
  document.getElementById("my-form").addEventListener("submit", function(event) {
    // Previne que o formulário seja enviado pelo método convencional
    event.preventDefault();

    // Cria um objeto FormData para enviar os dados do formulário via AJAX
    var formData = new FormData(document.getElementById("my-form"));

    // Cria uma solicitação AJAX
    var xhr = new XMLHttpRequest();

    // Configura a solicitação para enviar via POST para o arquivo PHP
    xhr.open("post", "script.php", true);

    // Configura um manipulador de eventos para a resposta AJAX
    xhr.onreadystatechange = function() {
      // Se a solicitação foi concluída e a resposta está pronta
      if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {
        // Define o conteúdo da div "result" com a resposta do PHP
        document.getElementById("result").innerHTML = this.responseText;
      }
    };

    // Envia a solicitação AJAX com os dados do formulário
    xhr.send(formData);
  });
</script>

</html>